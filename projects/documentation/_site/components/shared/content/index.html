<div class="section examples">
    <h2 id="description">Description <sp-link class="header-anchor" href="#description" aria-label="§">#</sp-link></h2>
<p>Shared mixins, tools, etc. that support developing Spectrum Web Components.</p>
<h3 id="usage">Usage <sp-link class="header-anchor" href="#usage" aria-label="§">#</sp-link></h3>
<p><a href="https://www.npmjs.com/package/@spectrum-web-components/shared"><img src="https://img.shields.io/npm/v/@spectrum-web-components/shared?style=for-the-badge" alt="See it on NPM!"></a>
<a href="https://bundlephobia.com/result?p=@spectrum-web-components/shared"><img src="https://img.shields.io/bundlephobia/minzip/@spectrum-web-components/shared?style=for-the-badge" alt="How big is this package in your project?"></a></p>
<pre><code>npm install @spectrum-web-components/shared
</code></pre>
<p>Individual base classes and mixins can be imported as follows:</p>
<pre><code>import {
    Focusable,
    FocusVisiblePolyfillMixin,
    getActiveElement,
    LikeAnchor,
    ObserveSlotText
} from '@spectrum-web-components/shared';
</code></pre>
<h3 id="focusable">Focusable <sp-link class="header-anchor" href="#focusable" aria-label="§">#</sp-link></h3>
<p>The <code>Focusable</code> subclass of <code>LitElement</code> adds some helpers method and lifecycle coverage in order to support passing focus to a container element inside of a custom element. The Focusable base class handles tabindex setting into shadowed elements automatically and is based heavily on the aybolit delegate-focus-mixin at https://github.com/web-padawan/aybolit/blob/master/packages/core/src/mixins/delegate-focus-mixin.js</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Focusable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/shared/lib/focusable'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> html <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit-element'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">FocusableButton</span> <span class="token keyword">extends</span> <span class="token class-name">Focusable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">styles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> CSSResultArray <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">super</span><span class="token punctuation">.</span>styles<span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">focusElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> HTMLElement <span class="token punctuation">{</span><br>        <span class="token comment">/* istanbul ignore if */</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#button'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> TemplateResult <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>            &lt;button<br>                id="button"<br>            ><br>                Focus for this button is being managed by the focusable base class.<br>            &lt;/button><br>        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="focusvisiblepolyfillmixin">FocusVisiblePolyfillMixin <sp-link class="header-anchor" href="#focusvisiblepolyfillmixin" aria-label="§">#</sp-link></h3>
<p>Use this mixin if you would like to leverage <code>:focus-visible</code> based selectors in your CSS. <a href="https://www.npmjs.com/package/focus-visible">Learn more about the polyfill that powers this.</a></p>
<h3 id="getactiveelement">getActiveElement <sp-link class="header-anchor" href="#getactiveelement" aria-label="§">#</sp-link></h3>
<p>Use this helper to find an <code>activeElement</code> in your component. <a href="https://dev.to/open-wc/mind-the-document-activeelement-2o9a">Learn more about tracking active elements over shadow DOM boundaries.</a></p>
<h3 id="likeanchor">LikeAnchor <sp-link class="header-anchor" href="#likeanchor" aria-label="§">#</sp-link></h3>
<p>Mix <code>download</code>, <code>label</code>, <code>href</code>, and <code>target</code> properties into your element to allow it to act more like an <code>HTMLAnchorElement</code>.</p>
<h3 id="observerslottext">ObserverSlotText <sp-link class="header-anchor" href="#observerslottext" aria-label="§">#</sp-link></h3>
<p>When working with <code>&lt;slot&gt;</code>s and their <code>slotchange</code> event, you will have the opportunity to capture when the nodes and/or elements in your element are added or removed. However, if the <code>textContent</code> of a text node changes, you will not receive the <code>slotchange</code> event because the slot hasn't actually received new nodes and/or elements in the exchange. When working with a lit-html binding <code>&lt;your-element&gt;${text}&lt;/your-element&gt;</code> that means you will not receive a <code>slotchange</code> event when the value of <code>text</code> goes from <code>text = ''</code> to <code>text = 'something'</code> or the other way. In these cases the <code>ObserveSlotText</code> can be leverages to apply a mutation observe onto your element that tracks <code>characterData</code> mutations so that you can resspond as desired.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> ObserveSlotText <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/shared/lib/oberve-slot-text'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> LitElement<span class="token punctuation">,</span> html <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit-element'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">ObserveSlotTextElement</span> <span class="token keyword">extends</span> <span class="token class-name">ObserveSlotText</span><span class="token punctuation">(</span>LitElement<span class="token punctuation">,</span> <span class="token string">'#observing-slot'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> TemplateResult <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>            &lt;button<br>                id="button"<br>            ><br>                &lt;slot<br>                    id="observing-slot"<br>                    @slotchange=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>manageObservedSlot<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"><br>                >&lt;/slot><br>            &lt;/button><br>        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">protected</span> <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><br>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>slotHasContent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => true when &lt;observing-slot-text-element>Text&lt;/observing-slot-text-element></span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'observing-slot-text-element'</span><span class="token punctuation">,</span> ObserveSlotTextElement<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

</div>

<script type="module">
    document.title = 'Shared: Spectrum Web Components';
    document.querySelector('sp-sidenav').value = 'shared';
    document.querySelector('#page-title').textContent = 'sp-shared';
</script>
