{"version":3,"file":"component.js","sourceRoot":"","sources":["component.ts"],"names":[],"mappings":"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","sourcesContent":["/*\nCopyright 2020 Adobe. All rights reserved.\nThis file is licensed to you under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License. You may obtain a copy\nof the License at http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software distributed under\nthe License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\nOF ANY KIND, either express or implied. See the License for the specific language\ngoverning permissions and limitations under the License.\n*/\nimport { html, CSSResultArray, TemplateResult } from 'lit-element';\nimport '@spectrum-web-components/bundle/elements.js';\nimport { RouteComponent } from './route-component.js';\nimport componentStyles from './markdown.css';\nimport { AppRouter } from '../router.js';\nimport '@spectrum-web-components/tabs/sp-tab.js';\nimport '@spectrum-web-components/tabs/sp-tabs.js';\nimport { Tabs } from '@spectrum-web-components/tabs';\nimport docs from '../../custom-elements.json';\n\nlet ComponentDocs: Map<string, TemplateResult>;\n\nenum TabValue {\n    Api = 'api',\n    Examples = 'examples',\n}\n\ninterface JsDocTagParsed {\n    name?: string;\n    attribute?: string;\n    type?: string;\n    optional?: boolean;\n    default?: string;\n    description?: string;\n}\n\ntype ParsedTagArray = JsDocTagParsed[];\n\ntype TagType = {\n    description?: string;\n    properties?: ParsedTagArray;\n    slots?: ParsedTagArray;\n    events?: ParsedTagArray;\n    cssProperties?: ParsedTagArray;\n};\n\nfunction sortByName(a: JsDocTagParsed, b: JsDocTagParsed) {\n    if (!a.name || !b.name) {\n        return 0;\n    }\n    if (a.name > b.name) {\n        return 1;\n    }\n    if (b.name > a.name) {\n        return -1;\n    }\n    return 0;\n}\n\nfunction buildTable(\n    title: string,\n    rowData: ParsedTagArray,\n    headings: string[],\n    cells: ((property: JsDocTagParsed) => TemplateResult)[]\n): TemplateResult {\n    return html`\n        <h2 class=\"spectrum-Heading3\">${title}</h2>\n        <table class=\"spectrum-Table\">\n            <thead class=\"spectrum-Table-head\">\n                <tr>\n                    ${headings.map(\n                        (heading) => html`\n                            <th class=\"spectrum-Table-headCell\">\n                                ${heading}\n                            </th>\n                        `\n                    )}\n                </tr>\n            </thead>\n            <tbody class=\"spectrum-Table-body\">\n                ${rowData.sort(sortByName).map(\n                    (property) => html`\n                        <tr class=\"spectrum-Table-row\">\n                            ${cells.map(\n                                (cell) => html`\n                                    <td class=\"spectrum-Table-cell\">\n                                        ${cell(property)}\n                                    </td>\n                                `\n                            )}\n                        </tr>\n                    `\n                )}\n            </tbody>\n        </table>\n    `;\n}\n\nclass ComponentElement extends RouteComponent {\n    public location?: {\n        baseUrl: string;\n        params: {\n            component: string;\n            tab: string;\n        };\n        pathname: string;\n    };\n\n    private docsLoaded = false;\n\n    public static get styles(): CSSResultArray {\n        return [componentStyles];\n    }\n\n    public get componentName(): string {\n        if (this.location) {\n            return `sp-${this.location.params.component}`;\n        }\n        return '';\n    }\n\n    public get tab(): TabValue {\n        if (this.location && this.location.params.tab === 'api') {\n            return TabValue.Api;\n        }\n        return TabValue.Examples;\n    }\n\n    public handleTabChange(event: Event) {\n        if (!this.location || !event.target) return;\n\n        const target = event.target as Tabs;\n        const selected = target.selected as TabValue;\n        AppRouter.changeParams({\n            component: this.location.params.component,\n            tab: selected,\n        });\n    }\n\n    loadDocs() {\n        import('../../components').then((module) => {\n            ComponentDocs = module.ComponentDocs;\n            this.docsLoaded = true;\n            this.requestUpdate();\n        });\n    }\n\n    shouldUpdate() {\n        if (!this.docsLoaded) {\n            this.loadDocs();\n        }\n        return this.docsLoaded;\n    }\n\n    render() {\n        let result;\n        if (this.location && this.location.params) {\n            const APIdocs = docs.tags.find(\n                (el) => el.name === this.componentName\n            ) as TagType;\n            const componentDocs = ComponentDocs.get(\n                this.location.params.component\n            );\n            result = html`\n                <article class=\"spectrum-Typography\">\n                    <div id=\"title-header\" class=\"spectrum-Article\">\n                        <h1\n                            class=\"spectrum-Heading1--display spectrum-Heading1--quiet\"\n                        >\n                            ${this.componentName}\n                        </h1>\n                    </div>\n                    ${APIdocs && componentDocs\n                        ? html`\n                              <sp-tabs\n                                  selected=\"${this.tab}\"\n                                  @change=\"${this.handleTabChange}\"\n                                  direction=\"horizontal\"\n                              >\n                                  <sp-tab\n                                      value=\"examples\"\n                                      label=\"Examples\"\n                                  ></sp-tab>\n                                  <sp-tab value=\"api\" label=\"API\"></sp-tab>\n                              </sp-tabs>\n                          `\n                        : html``}\n                    ${componentDocs && this.tab === TabValue.Examples\n                        ? componentDocs\n                        : this.renderDocs(APIdocs)}\n                </article>\n            `;\n        }\n        return result || html``;\n    }\n\n    protected renderDocs(tag: TagType): TemplateResult {\n        return html`\n            <p>${tag.description}</p>\n            ${tag.properties && tag.properties.length\n                ? buildTable(\n                      'Properties',\n                      tag.properties,\n                      ['Name', 'Attribute', 'Type', 'Default', 'Description'],\n                      [\n                          (property) =>\n                              html`\n                                  <code>${property.name}</code>\n                              `,\n                          (property) =>\n                              html`\n                                  <code>${property.attribute || ''}</code>\n                              `,\n                          (property) =>\n                              html`\n                                  <code>${property.type || ''}</code>\n                              `,\n                          (property) =>\n                              html`\n                                  <code>${property.default || ''}</code>\n                              `,\n                          (property) =>\n                              html`\n                                  ${property.description || ''}\n                              `,\n                      ]\n                  )\n                : html``}\n            ${tag.slots && tag.slots.length\n                ? buildTable(\n                      'Slots',\n                      tag.slots,\n                      ['Name', 'Description'],\n                      [\n                          (property) =>\n                              html`\n                                  <code>${property.name}</code>\n                              `,\n                          (property) =>\n                              html`\n                                  ${property.description || ''}\n                              `,\n                      ]\n                  )\n                : html``}\n            ${tag.events && tag.events.length\n                ? buildTable(\n                      'Events',\n                      tag.events,\n                      ['Name', 'Description'],\n                      [\n                          (property) =>\n                              html`\n                                  <code>${property.name}</code>\n                              `,\n                          (property) =>\n                              html`\n                                  <code>${property.description || ''}</code>\n                              `,\n                      ]\n                  )\n                : html``}\n            ${tag.cssProperties && tag.cssProperties.length\n                ? buildTable(\n                      'CSS Custom Properties',\n                      tag.cssProperties,\n                      ['Name', 'Default'],\n                      [\n                          (property) =>\n                              html`\n                                  <code>${property.name}</code>\n                              `,\n                          (property) =>\n                              html`\n                                  <code>${property.default || '\"\"'}</code>\n                              `,\n                      ]\n                  )\n                : html``}\n        `;\n    }\n}\ncustomElements.define('docs-component', ComponentElement);\n"]}